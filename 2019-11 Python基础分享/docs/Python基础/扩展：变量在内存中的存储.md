# 扩展：变量在内存中的存储

> 关于Python的内存管理机制，想更深入了解的，可以参考 [<https://blog.csdn.net/zx870121209/article/details/81363311>](https://blog.csdn.net/zx870121209/article/details/81363311)
>
> 变量在内存中的存储，可以参考
>
>  [<https://blog.csdn.net/IAlexanderI/article/details/88356568>](https://blog.csdn.net/IAlexanderI/article/details/88356568)
>
> 接下来会用到一个函数 id()，用于查看对象的内存地址



## 可变数据类型和不可变数据类型

> 可变数据类型：该类型的变量对应值发生了改变，对应内存地址不发生变化
>
> 不可变数据类型：该类型变量对应值发生了改变，对应内存地址发生变化

#### 不可变数据类型：

数字、字符串、元组

### 不可变数据类型存储原理

不可变数据类型，不允许变量的值发生变化，如果改变了变量值，相当于新开辟内存来存放值；小数字(ps: N ∈ [-5, 256])和字符串类型除外，Python会单独做缓存不会重复开辟空间，验证如下：

```python
a = 1 # 创建一个int类型的数据，地址是 93998777319784
b = 1 # 不会新建数据，地址依旧是 93998777319784
c = 2 # 开辟内存，存储int类型的数据，地址是 93998777319760
print(id(a), id(b), id(c)) # (93998777319784, 93998777319784, 93998777319760)
b = 2 # 改变变量值，如果存在会复用，不存在会开辟新的内存
print(id(a), id(b), id(c)) # (93998777319784, 93998777319760, 93998777319760)
b = 3 # 改变变量值，开辟新内存
print(id(a), id(b), id(c)) # (93998777319784, 93998777319736, 93998777319760)
```

而元组虽然作为不可变数据类型，但是没有缓存，即使两个元组内容完全相同，也会开辟两块空间，除非变量间相互赋值

```python
a = (1, 2)
b = (1, 2)
print(id(a), id(b)) # 相同 (140510509670480, 140510509670840)
b = a
print(id(a), id(b)) # 不同 (140510509670480, 140510509670480)
```

#### 可变数据类型：

列表、字典、集合

### 可变数据类型存储原理

