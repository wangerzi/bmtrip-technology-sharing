# 变量和运算符

本小节主要介绍变量定义以及能对变量/数据进行操作的运算符

变量即可变化的量，他可能是数字、字符串等类型的数据；Python是一门动态类型语言，变量类型会自动根据赋值时的对象类型变化而变化，比如：

```python
a = 1.1 
print(type(a)) # <class 'int'> 此时 a 是数字类型
a = 'Foo bar'
print(type(a)) # <class 'str'> 此时 a 是字符串类型
```

静态类型语言的每个变量就需要事先声明，相比之下动态语言还是方便一点

```c
int a = 1;
char * str = "Hello World!";
int a = "Hello"; // 报错
```

> 关于变量的理解有一篇入门级别的博客推荐 [<http://www.360doc.com/content/19/0322/11/49486385_823349460.shtml>](http://www.360doc.com/content/19/0322/11/49486385_823349460.shtml)

## 变量的定义规则

- 第一个字符必须是大小写字母，或者下划线 `_`
- 非首个字符由字母、数字、下划线组成
- 区分大小写
- 不能是保留字
- Python3中可以用中文作为变量名

比如：

| 变量名 | 是否合法          |
| ------ | ----------------- |
| a      | 合法              |
| a_     | 合法              |
| _a     | 合法              |
| a1     | 合法              |
| 1a     | **不合法**        |
| None   | **不合法**        |
| 订单号 | 合法（Python3中） |
| それ   | 合法（Python3中） |

## 变量的各种类型

在Python或者大部分编程语言中均会有如下类型，这里仅做概览，后续会对每种类型的变量进行详细的讲解

## Python3 运算符

看一个简单的式子 `1 + 2`，其中 1 和 2 都是操作数，+ 就是算数运算符，再比如 `1 and 0`，1 和 0 都是操作数，and 就是比较运算符

Python的运算符能细分为如下几个

- **算数运算符**：用于两个对象的算数运算，比如：加减乘除
- **比较运算符**：又称关系运算符，用于两个对象之间的比较，比如：大于/小于/等于
- **赋值运算符**：对象赋值，将右侧对象赋值到左侧，比如： a = 111
- **逻辑运算符**：进行逻辑运算，比如：与或非
- 位运算符：按位存储的bit操作，比如：左移右移
- 成员运算符：判断一个对象是否包含另外一个对象
- 身份运算符：判断是否是引用自身的一个对象

目前需要详细了解的是 算术运算符、比较运算符、赋值运算符、逻辑运算符 ，在日常开发中也最为常用

#### 算术运算符

顾名思义，做算数加减乘除等操作的，Python中的算术运算符具体如下表所示

| 运算符 | 描述                                               | 示例                   |
| ------ | -------------------------------------------------- | ---------------------- |
| +      | 加法运算符，可用于 数字、字符串、自定义的对象等    | a = 1 + 2 # a = 3      |
| -      | 减法运算符                                         | 同                     |
| *      | 乘法运算符                                         | 同                     |
| /      | 除法运算符                                         | 同                     |
| %      | 取模，返回除法的余数                               | 同                     |
| **     | 幂运算，返回 x 的 y 次方                           | a = 2 ** 10 # a = 1024 |
| //     | 取整除，也称为地板除，不遵循四舍五入，只取整数部分 | a = 14 // 5 # a = 2    |

#### 比较运算符

用于对象比较，相等、不相等、大于小于

| 运算符 | 描述     | 示例                                           |
| ------ | -------- | ---------------------------------------------- |
| ==     | 等于     | a = False;b = 0; a == b 返回True               |
| ！=    | 不等于   | a = True;b = 2; a != b 返回True                |
| <>     | 不等于   | 其他语言，比如SQL中可以使用，python3.6中不能用 |
| >      | 大于     |                                                |
| <      | 小于     |                                                |
| \>=    | 大于等于 |                                                |
| <=     | 小于等于 |                                                |

> 关于各种类型的变量相互比较的问题，后续会讲解到

#### 赋值运算符

用于对象赋值，最基本的就是 `=` 意为将右侧数据赋值到左侧，其他运算符均为算数运算符带上一个 = ，比如 `a +=1` 同价于 `a = a + 1`

| 运算符 | 描述       | 示例                         |
| ------ | ---------- | ---------------------------- |
| =      | 赋值       | a = 1                        |
| +=     | 加法赋值   | a += 1                       |
| -=     | 减法赋值   | a -= 1                       |
| *=     | 乘法赋值   | a *= 1                       |
| /=     | 除法赋值   | a /= 1                       |
| %=     | 取模赋值   | a %= 2 => a = a % 2          |
| //=    | 取整除赋值 | a //= 1                      |
| **=    | 幂赋值     | a \*\* = 10 => a = a \*\* 10 |

#### 逻辑运算符

逻辑运算符，与或非

| 运算符 | 描述                                       | 示例                  |
| ------ | ------------------------------------------ | --------------------- |
| and    | 与，两个操作数均为真，返回真，否则返回假   | True and True => True |
| or     | 或，两个操作数均为假，返回假，否则返回真   | True or False => True |
| not    | 非，操作数为真，返回假；操作数为假，返回真 | !True => False        |

### 单目运算符、双目运算符、三目运算符

运算符按照操作数的不同，可分为 单目运算符、双目运算符、三目运算符；

比如常见 `+` 是双目运算符，因为有加数和被加数两个操作数；

逻辑运算符中的 `not` 就是单目运算符，只有一个操作数；

还有特殊的三目运算符，有三个操作数，比如 `ans = a == 1 ? True : False` 表示如果 `a == 1 为真`，则 `ans` 的值为 `True`，否则 `ans` 的值为 `False`

### 运算符优先级

小学的时候就知道 『乘除大于加减』，『括号优先级最大』，程序中也是如此，为增加程序可读性以及避免优先级导致的问题，请多多使用括号。

运算符优先级，即多个考虑逻辑运算符的式子中，应该先算哪一个，比如 `a = b + 1 * 5 / 2 ** 9`

单目运算符、赋值运算符、三目运算符是从右向左执行，其余均为从左到右执行

> 从右往左执行，比如 a = b; 是把b的值赋值给a；从左往右执行，condition1 and condition2，会首先判断 condition1 是否为 True，不为 True 则不会判断 condition2

运算符的优先级越高，就越先处理

| 说明           | 运算符               | 优先级 |
| -------------- | -------------------- | ------ |
| **小括号**     | ()                   | 20     |
| 索引           | arr[index]           | 18/19  |
| 属性访问       | obj.name             | 17     |
| **幂运算**     | **                   | 16     |
| 按位取反       | ~                    | 15     |
| **符号运算符** | +、-                 | 12     |
| **乘除**       | *、/                 |        |
| **加、减**     | +、-                 | 12     |
| 位移           | \>\>、<<             | 11     |
| 按位与         | &                    | 10     |
| 按位异或       | ^                    | 9      |
| 按位或         | \|                   | 8      |
| 比较运算符     | ==、!=、>、>=、<、<= | 7      |
| **is 运算符**  | is、is not           | 6      |
| in 运算符      | in、not in           | 5      |
| **逻辑非**     | not                  | 4      |
| **逻辑与**     | and                  | 3      |
| **逻辑或**     | or                   | 2      |

> 关于运算符的更多扩展信息，请查看 [<https://www.cnblogs.com/mehome/p/9439088.html>](https://www.cnblogs.com/mehome/p/9439088.html)